{% extends 'background/base.html' %}
{% block title %}
    Innovation Detail
{% endblock %}
{% block css %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/background/swiper.min.css') }}">
    <!--Page Specific -->
    <link rel="stylesheet" type="text/css"
          href="{{ url_for('static', filename='css/background/nice-select.min.css') }}">
{% endblock %}


{% block content %}
    <!-- Page Title Start -->
    <div class="row">
        <div class="col xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
            <div class="page-title-wrapper">
                <div class="page-title-box">
                    <h4 class="page-title">Innovation Detail</h4>
                </div>
                <div class="breadcrumb-list">
                    <ul>
                        <li class="breadcrumb-link">
                            <a href="javascript:void(0);"><i class="fas fa-home mr-2"></i>Dashboard</a>
                        </li>
                        <li class="breadcrumb-link active">Innovation Detail</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <!-- Products view Start -->
    <div class="row">
        <div class="col-xl-4">
            <div class="card">
                <div class="card-header">
                    <h4 class="card-title mb-0">Project Basic</h4>
                </div>
                <div class="card-body">

                    <form method="post">
                        <div class="profile-title">
                            <div class="media ad-profile2-img">
                                {% if product_obj.admin and product_obj.admin.avatar %}
                                    <img alt=""
                                         src="{{ url_for('static', filename='uploads/user/avatar/' + product_obj.admin.avatar) }}">
                                {% elif product_obj.user and product_obj.user.avatar %}
                                    src="{{ url_for('static', filename='uploads/user/avatar/' + product_obj.user.avatar) }}
                                    ">
                                {% else %}
                                    <img alt="" src="../../static/images/background/base/4.jpg">
                                {% endif %}
                                <div class="media-body">
                                    {% if product_obj.admin and product_obj.admin.username %}
                                        <h5 class="mb-1">{{ product_obj.admin.username }}</h5>
                                        <input type="hidden" name="aid" value="{{ product_obj.admin.id }}">
                                        <p>{{ product_obj.admin.user_role.value }}</p>
                                    {% elif product_obj.user %}
                                        <h5 class="mb-1">{{ product_obj.user.email }}</h5>
                                        <input type="hidden" name="uid" value="{{ product_obj.user.id }}">
                                        <p>{{ product_obj.user.user_role.value }}</p>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <hr>
                            <h6 class="form-label mb-3">Thumbnail</h6>
                            <div class="form-label"
                                 style="display: flex; justify-content: center; align-items: center; width: 275px; height: 180px; border-radius: 14px 14px 0 0; overflow: hidden;">
                                {% if product_obj.thumbnail %}
                                    <img class="img-responsive"
                                         src="{{ url_for('static', filename=product_obj.thumbnail) }}"/>
                                {% else %}
                                    <p>未上传缩略图！</p>
                                {% endif %}
                            </div>
                        </div>
                        <div class="mb-3">
                            <hr>
                            <h6 class="form-label mb-3">Project-ID：</h6>
                            <p class="form-label">{{ product_obj.product_id }}</p>
                        </div>
                        <div class="mb-3">
                            <hr>
                            <h6 class="form-label mb-3">Project Title：</h6>
                            <p class="form-label">{{ product_obj.title }}</p>
                        </div>
                        <div class="mb-3">
                            <hr>
                            <h6 class="form-label mb-3">Create Time：</h6>
                            <p class="form-label">{{ product_obj.created_at }}</p>
                        </div>
                        <div class="mb-3">
                            <hr>
                            <h6 class="form-label mb-3">Desc：</h6>
                            <p class="form-label">{{ product_obj.desc }}</p>
                        </div>

                        <div class="mb-3">
                            <hr>
                            <h6 class="form-label mb-3">Original Price：</h6>
                            <p class="form-label">{{ product_obj.current_price }}</p>
                        </div>

                        <div class="mb-3">
                            <hr>
                            <h6 class="form-label mb-3">Estimated Position：</h6>
                            <p class="form-label">{{ product_obj.total }}</p>
                        </div>

                        <div class="mb-3">
                            <hr>
                            <h6 class="form-label mb-3">Start Time：</h6>
                            <p class="form-label">{{ product_obj.start_time }}</p>
                        </div>

                        <div class="mb-3">
                            <hr>
                            <h6 class="form-label mb-3">End Time：</h6>
                            <p class="form-label">{{ product_obj.end_time }}</p>
                        </div>

                        <div class="mb-3">
                            <hr>
                            <h6 class="form-label mb-3">Give Coins：</h6>
                            <p class="form-label">{{ product_obj.give_coins }}</p>
                        </div>
                        <div class="mb-3">
                            <hr>
                            <h6 class="form-label mb-3">Source：</h6>
                            <p class="form-label">{{ product_obj.source }}</p>
                        </div>
                        <div class="mb-3">
                            <hr>
                            <h6 class="form-label mb-3">Product Category：</h6>
                            <p class="form-label">{{ product_obj.product_category.name }}</p>
                        </div>

                        <div class="mb-3">
                            <hr>
                            <h6 class="form-label mb-3">Product Status：</h6>
                            {{ product_obj.status.value }}

                        </div>

                        <div class="mb-3">
                            <hr>
                                <h6 class="form-label mb-3">Findings Of Audit</h6>
                                <select class="form-control mb-3" name="project_status">
                                    {% for item in status_list %}
                                        <option value="{{ item.value }}">{{ item.value }}</option>
                                    {% endfor %}
                                </select>
                                <h6 class="form-label mb-3">Reason</h6>
                                <textarea class="form-control mb-3" name="reason"></textarea>
                                <input class="btn btn-light float-right" type="submit" value="submit">
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <div class="col-xl-8">
            <form class="card">
                <div class="card-header">
                    <h4 class="card-title mb-0">Project Detail</h4>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="mb-3">
                                <h6 class="form-label mb-3">Slider Images and Video</h6>
                                <div id="carouselIndicators" class="carousel slide">
                                    <div class="carousel-inner">
                                        {% if i_list %}
                                            {% for item in i_list %}
                                                {% if loop.index0 == 0 %}
                                                    <div class="carousel-item active">
                                                        <img class="d-block"
                                                             style="margin: auto; width: auto; height: 400px;"
                                                             src="{{ url_for('static', filename=item) }}">
                                                    </div>
                                                {% else %}
                                                    <div class="carousel-item">
                                                        <img class="d-block"
                                                             style="margin: auto; width: auto; height: 400px;"
                                                             src="{{ url_for('static', filename=item) }}">
                                                    </div>
                                                {% endif %}
                                            {% endfor %}
                                        {% endif %}
                                        {% if v_list %}
                                            {% for item in v_list %}
                                                <div class="carousel-item">
                                                    {{ item | safe }}
                                                </div>
                                            {% endfor %}
                                        {% endif %}
                                    </div>
                                    <a class="carousel-control-prev" href="#carouselIndicators" role="button"
                                       data-slide="prev" style="background-color: rgba(0, 0, 0, 0.7)">
                                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                        <span class="sr-only">Previous</span>
                                    </a>
                                    <a class="carousel-control-next" href="#carouselIndicators" role="button"
                                       data-slide="next" style="background-color: rgba(0, 0, 0, 0.7)">
                                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                        <span class="sr-only">Next</span>
                                    </a>
                                </div>
                                <hr>
                            </div>

                            <div class="mb-3">
                                <h6 class="form-label mb-3">Project Introduce</h6>
                                <div>
                                    {{ product_obj.content | safe }}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
{% endblock %}
{% block js %}
    <script>
        $('.carousel').carousel('pause');
    </script>
{% endblock %}